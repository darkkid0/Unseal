# 菜单栏修复工具执行计划

## 上下文
- 目标：构建 SwiftUI + AppKit 菜单栏应用，监听 /Applications 新增应用并自动执行 xattr 修复。
- 关键约束：要求 Full Disk Access 提示；拖拽和自动检测两种触发方式；失败时提供诊断和重试。

## 计划步骤
1. 初始化 Swift 包结构，配置为 macOS 应用产物。
2. 实现主入口与菜单栏控制器，构建基本 UI。
3. 构建拖拽界面与状态反馈动画。
4. 编写 FSEvents 监听器与自动检测逻辑。
5. 实现 xattr/spctl 命令执行服务与失败诊断。
6. 集成权限提示、失败弹窗及重试流程。
7. 添加文档与必要测试，执行构建验证。
